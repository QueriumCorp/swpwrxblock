<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Required Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Capriola&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Irish+Grover&display=swap"
      rel="stylesheet"
    />

    <title>StepWise Power</title>

    <script>
      let params = new URLSearchParams(window.location.search)
      let urlRank = params.get('rank')
      let urlAppKey = params.get('appKey')

      if (urlRank === 'newb') {
        window.swpwr = {
          options: {
            gltfUrl:
              'https://s3.amazonaws.com/stepwise-editorial.querium.com/swpwr/dist/models',
            rank: 'newb',
            disabledSchemas: [
              'additiveDifferenceSchema',
              'additiveChangeSchema',
              'subtractiveChangeSchema',
              'multiplicativeEqualGroupsSchema',
              'multiplicativeCompareSchema',
            ],
          },
          student: {
            studentId: 'TheCure',
            fullName: 'Robert Smith',
            familiarName: 'Robert',
          },
          problem: {
            appKey: urlAppKey || 'JiraTestPage',
            policyId: '$A9$',
            problemId: 'Fall2024Newb',
            title: 'Fall2024Newb',
            stimulus:
              'Mark rode his bicycle 9 miles on Saturday. He rode 3 miles on Sunday. In all, he rode 12 miles over the weekend?',
            topic: 'gradeBasicAlgebra',
            definition:
              'SolveWordProblemNewb[{"Mark rode his bicycle 9 miles on Saturday. He rode 3 miles on Sunday. In all, he rode 12 miles over the weekend."}]',
            mathHints: [],
            wpHints: [
              {
                pageId: 'newbFindFacts',
                hints: [
                  'The first known amount is "9 miles".&#10;&#10;Do you see it up above? Highlight it. Then pull it out and place it under Known.',
                  'The next known amount is "3 miles". Highlight it, pull it out, and place it under Known.',
                  'The next known amount is "12 miles". Put it under Known, too.',
                  "That's the last known amount. Click me to see what's next.",
                  "Now let's look for unknown amounts.",
                  "If you think there are no unknown amounts... you're right! In this story all of the amounts are known. So don't put anything under Unknown. We'll learn more about unknown amounts later on.",
                  "For this one, we're all done pulling it apart. Click → and I'll just double check your work before we move on.",
                ],
              },
              {
                pageId: 'newbProblemType',
                hints: [
                  'The problem has two parts, 9 miles on Saturday and 3 miles on Sunday. Those parts are put together to make the total, 12 miles. Pick the Total problem type. Then click →.',
                ],
              },
            ],
          },
          handlers: {
            onComplete: (session, studentLog) => {
              console.info("I'm an external onComplete Handler")
              console.info('session', session)
              console.info('studentLog', studentLog)
            },
          },
        }
      } else if (urlRank === 'cadet') {
        window.swpwr = {
          options: {
            gltfUrl:
              'https://s3.amazonaws.com/stepwise-editorial.querium.com/swpwr/dist/models',
            rank: 'newb',
            disabledSchemas: [],
          },
          student: {
            studentId: 'Calvin Hobbes',
            fullName: 'Spaceman Spiff',
            familiarName: 'Spiff',
          },
          problem: {
            appKey: urlAppKey || 'JiraTestPage',
            policyId: '$A9$',
            problemId: 'QUES-30533',
            stimulus:
              'Minh spent $6.25 on 5  sticker books to give his nephews. Find the cost of each sticker book.',
            topic: 'gradeBasicAlgebra',
            definition:
              'SolveWordProblemAns[{"Minh spent $6.25 on 5 sticker books to give his nephews. Find the cost of each sticker book."}]',
            mathHints: [],
            wpHints: [
              {
                page: 'cadetFindFacts',
                hints: ['Line1&#10;&#10;Line2', 'wbHint2'],
              },
              { page: 'cadetReadProblem', hints: ['wpHint1', 'wbHint2'] },
            ],
          },
          handlers: {
            onComplete: (session, studentLog) => {
              console.info("I'm an external onComplete Handler")
              console.info('session', session)
              console.info('studentLog', studentLog)
            },
          },
        }
      } else {
        window.swpwr = {
          options: {
            gltfUrl:
              'https://s3.amazonaws.com/stepwise-editorial.querium.com/swpwr/dist/models',
            rank: 'newb',
            disabledSchemas: [],
          },
          student: {
            studentId: 'Winifred',
            fullName: 'Winry Van Riper',
            familiarName: 'Win',
          },
          problem: {
            appKey: urlAppKey || 'JiraTestPage',
            policyId: '$A9$',
            problemId: 'QUES-30533',
            title: 'Sticker Book Cost',
            stimulus:
              'Minh spent $6.25 on 5  sticker books to give his nephews. Find the cost of each sticker book.',
            topic: 'gradeBasicAlgebra',
            definition:
              'SolveWordProblemAns[{"Minh spent $6.25 on 5 sticker books to give his nephews. Find the cost of each sticker book."}]',
            mathHints: [],
            wpHints: [
              { page: 'newb:FindFacts', hints: ['wpHint1', 'wbHint2'] },
              { page: 'ranger:ReadProblem', hints: ['wpHint1', 'wbHint2'] },
            ],
          },
          handlers: {
            onComplete: (session, studentLog) => {
              console.info("I'm an external onComplete Handler")
              console.info('session', session)
              console.info('studentLog', studentLog)
            },
          },
        }
      }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/public/main.tsx"></script>
  </body>
</html>
